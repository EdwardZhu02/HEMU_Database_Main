{% extends 'basemodel.html' %}

{% block title_block %}
    Gene DE Analysis Module - HEMU
{% endblock %}

{% block content_block %}
    {% load static %}

    <div class="container" style="margin: 25px 110px;">
      <div class="page-header">
        <div class='row'>
            <div class="col-md-2">
                <div style="margin-top: 20px">
                    <img src="{% static "AllPageStatic/HEMU_logo_crop.png" %}" class="img-responsive" alt="Responsive image" style="width: 60%; height: 60%">
                </div>
            </div>
            <div class="col-md-10">
                <h2 style="margin-top: 45px; margin-left: -60px">The HEMU RNA-seq database</h2>
                <p style="color: #8e8e8e; margin-left: -55px">Search here for gene expression data regarding <br>representative Andropogoneae species.</p>
            </div>
        </div>
      </div>
    </div>

    <div class="container">
        <div class='row'>
            <div class="col-md-12">
                <div class="panel panel-info">
                    <div class="panel-heading" style="text-align: center">Gene Database: Differential Gene Expression (DGE) Analysis</div>
                    <div class="panel-body">
                        <h4 style="text-align: center">Generate Custom DGE Analysis Report</h4>
                        <br>
                        <form method="post" class="form">
                              {% csrf_token %}
                            <div style="text-align: center;"><label>Select species</label></div>
                            <div style="margin: 0 420px">
                                <select class="form-control" name="species_query" style="height: 40px; width: 300px">
                                    <option value="coix" selected>Coix lacryma</option>
                                    <option value="zea">Zea mays</option>
                                    <option value="saccharum">Saccharum</option>
                                    <option value="sorghum">Sorghum bicolor</option>
                                    <option value="miscanthus">Miscanthus floridulus</option>
                                </select>
                            </div>
                            <br>
                            <div class="input-group" style="margin: 0 170px;">
                                <span style="margin: 0 10px";>logFC threshold</span>
                                <label style="margin: 0 5px 0 5px;">
                                    <input type="text" name="logfc_threshold" value="2.0" class="form-control" style="width: 90px; height: 25px">
                                </label>
                                <span style="margin: 0 10px";>P value threshold</span>
                                <label style="margin: 0 5px 0 5px;">
                                    <input type="text" name="pvalue_threshold" value="0.05" class="form-control" style="width: 90px; height: 25px">
                                </label>
                                <span style="margin: 0 10px";>Top DE genes in heatmap</span>
                                <label style="margin: 0 5px 0 5px;">
                                    <input type="text" name="heatmap_gene_count" value="50" class="form-control" style="width: 90px; height: 25px">
                                </label>
                            </div>
                            <br>
                              <HR style= "width: 80%" SIZE = 3>

                              <h4 style="text-align: center">——<b> GROUP 1 </b>——</h4>
                              <div class="input-group" style="margin: 0 100px;">
                                    <span class="input-group-addon"><b>Samples</b></span>
                                    <input type="text" name="group1_samples" class="form-control" placeholder="separate multiple samples with ' ; '" size="50px 30px">

                                    <span class="input-group-addon"><b>Group Name</b></span>
                                    <input type="text" name="group1_name" class="form-control" value="treatment">
                              </div>

                              <span class="label label-info" style="margin: 0 100px;">Example: 1-2mm ear of Maize B73 (Rep1-Rep3)</span><label style="margin: 7px -90px; color: grey"><small>SRR13587899;SRR13587900;SRR13587901</small></label>
                              <br><br>

                              <h4 style="text-align: center">——<b> GROUP 2 </b>——</h4>
                              <div class="input-group" style="margin: 0px 100px;">
                                    <span class="input-group-addon"><b>Samples</b></span>
                                    <input type="text" name="group2_samples" class="form-control" placeholder="separate multiple samples with ' ; '" size="50px 30px">

                                    <span class="input-group-addon"><b>Group Name</b></span>
                                    <input type="text" name="group2_name" class="form-control" value="control">
                              </div>

                              <span class="label label-info" style="margin: 0 100px;">Example: 1-2mm ear of Maize Fas (Rep1-Rep3)</span><label style="margin: 7px -90px; color: grey"><small>SRR13587902;SRR13587903;SRR13587904</small></label>
                              <br><br>

                              <div style="margin: 0px 420px">
                                    <button type="submit" class="btn btn-primary" style="height: 40px; width: 300px">Start DGE Analysis</button>
                              </div>

                        </form>
                        <HR style= "width: 80%" SIZE = 3>
                        <br>

                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <h4 style="text-align: center">Or, claim existing DGE reports using the provided identifier</h4>
                        <br>
                        <form method="post" style="text-align: center">
                            <label>
                                {% csrf_token %}
                                <input type="text" name="identifier_query" placeholder="identifier:" class="form-control" style="width: 550px; height: 35px">
                            </label>
                            <input type="submit" value="Claim" class="btn btn-primary" style="width: 100px; height: 35px">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
